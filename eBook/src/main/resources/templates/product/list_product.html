<html layout:decorate="~{layout}" xmlns="http://www.w3.org/1999/html">
<div layout:fragment="content" class="container justify-content-center align-items-center h-75 mt-5">
    <h2 class="mb-3 mt-3">상품 목록</h2>
    <table class="table table-hover">
        <thead class="table-success">
        <tr>
            <th>번호</th>
            <th>상품명</th>
            <th>가격</th>
            <th>작성자</th>
            <th>작성날짜</th>
            <th>장바구니 추가</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="product, loop : ${productDtoList}" th:onclick="|location.href='@{|/product/${product.id}|}'|">
            <td th:text="${loop.index+1}"></td>
            <td th:text="${product.subject}"></td>
            <td th:text="${product.price}"></td>
            <td th:text="${product.writer}"></td>
            <td th:text="${#temporals.format(product.createDate, 'yyyy-MM-dd &nbsp;&nbsp; HH:mm')}"></td>
            <div>
                <a href="javascript:;" onclick="$(this).next().submit()" class="btn modify">추가</a>
                <form th:action="@{|/cart/add/${product.id}|}" method="POST" hidden></form>
            </div>
        </tr>
        </tbody>
    </table>
    <div>
        <a th:href="@{/product/create}" class="float-end btn create" sec:authorize="hasAnyRole('WRITER')">상품 등록</a>
    </div>
</div>
</html>